#!/bin/env bash
# Preload
script_base=$(dirname $BASH_SOURCE)
source "$script_base/plugins/support"


prompt_line_one() {
printf $blue"["$reset
username
prompt_for_git
printf $blue"]"$reset"\n"
}

prompt_line_two() {
cwd
emblem
}

prompt_line_three() {
emblem
}

username() {
printf $purple
printf $USER
printf $reset
}

cwd() {
printf $red
printf $(pwd)
printf $reset
}

## Git
prompt_for_git() {
git --version > /dev/null 2>&1;
if [ "$?" -ne "0" ]; then \
  return
else
  if [ -d .git ]; then
    source $script_base/plugins/git
    prompt_for_git_branch
    prompt_for_git_stashes
    prompt_for_git_cleanliness
  fi
fi

}

emblem() {
printf $teal
check_for_unicode âš¡ $
printf " "$reset
}

load_functions() {
prompt_line_one
prompt_line_two
#prompt_line_three
}

PS1='$(load_functions)'
